	<!DOCTYPE html>
	<html>
	<head>
		<script type="text/javascript" src="C:\inetpub\wwwroot\cdp\backup\script.js"> </script>
		<script type="text/javascript" src="C:\inetpub\wwwroot\cdp\backup\jsonClient.js"> </script>
		<script type="text/javascript" src="C:\inetpub\wwwroot\cdp\backup\Constants.js"> </script>
		<script type="text/javascript" src="C:\inetpub\wwwroot\cdp\backup\CardinalityCheck.js"> </script>

		<title>Json Parser</title>
		<script type="text/javascript">


			if( typeof Array.isArray !== 'function' ) {
				Array.isArray = function( arr ) {
					return Object.prototype.toString.call( arr ) === '[object Array]';
				};

			}
			modelName=getParameterByName("firstname",window.location.search);
			console.log("modelName:",modelName)
			
			function iterate(root,label,op){
				console.log("label : ",label );
				for(x in root){
					console.log("values of x :"+ x ) 

					if(x=="Default" || x=="ReadOnly" || x=="Constant" || x=="Eq" || x=="Transient" || (typeof(x)=='Number')){

						cardinality=false;
						ignore=true;
						continue;
					}
					if(x =='Cardinality'){
						cardinalityChecker(root,x,len,cardinality);
					}
					else if(x=='Format') {
						if(root[x].includes("ObjectFormat")){
							objectFormat=true;
						}
						else {
							objectFormat=false;
						}
					}
					else if(x=='String' || x=='Double' || x=='Number'|| x=='Boolean' ||x=='DateTime'){
						console.log("x : ", x," root[x] : ",root[x] )
						val=x;
						if(val=='Double'){
							dataValue=45.454;
						}else if(val=='Number'){
							dataValue=345
						}
						else if(val=='Boolean'){
							dataValue=true;  
						}else if(val=='DateTime'){
							dataValue="[:$Now():]";
						}
						if(Array.isArray(root[x])){
							n=root[x].length;
							val=x;
									//console.log("in Array : x :" , x, " root[x] " ,root[x])
									for(i=0;i<n;i++){	
										console.log("all objects inside literals :",root[x][i]);								      
										iterate(root[val][i],label,op);
									}
								}
								else if(Object.prototype.toString.call(root[x])==='[object Object]'){
									iterate(root[x],label,op);
								}

							}
							else if(x=='Name'){
								if(!ignore && !nameVal.includes(root[x])){
									if(cardinality){
										arr=Array(len)
										for(j=0;j<len;j++){
											arr[j]="key";
										}  
										op[root[x]]=arr;
										cardinality=false;
									}else if(objectFormat){
										op[root[x]]={"key":"value"};
										objectFormat=false;
									}else{ 
										
										if(val=='String'){
											op[root[x]]=root[x];
										}else {

											op[root[x]]=dataValue;
										}

									}
								}
								else{
									ignore=false;
								}
							}
							else if(Object.prototype.toString.call(root[x]) ==='[object Object]'){
								if(root[x].Name!='undefined'){
									op[root[x].Name]={};
									nameVal[index]=root[x].Name;
									index++;
									iterate(root[x],root[x].Name,op[root[x].Name])
								}
							}else if(Array.isArray(root[x])){
								m=root[x].length;
								for(j=0;j<m;j++){
									console.log("array values : ",root[x][j]);
									iterate(root[x][j],label,op)
								}
							}
						}
					}	
					dummyCreator()
				</script>
			</head>
			<body>
			</body>
			</html>
